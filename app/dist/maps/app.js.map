{"version":3,"sources":["app.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_markdownEditor","markdown","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","default","setInputArea","document","querySelector","setOutputArea","./markdown-editor","2","inputElement","textarea","outputElement","outputArea","insertText","syntax","placeholder","arguments","undefined","selectionStart","selectionEnd","currentSelectionStart","currentSelectionEnd","currentText","value","textWithSyntax","substring","focus","selectedText","withoutSelection","_textWithSyntax","output","lines","innerHTML","parse","content","h1","h2","h3","bold","italics","link","lists","unorderedList","unorderedSubList","orderedList","orderedSubList","test","match","forEach","element","extractedText","slice","replace","text","url","list","listArray","split","formattedList","map","currentValue","index","array","trim","join","console","log","line","defineProperty","previewMessage","preview","boldButton","italicButton","heading1Button","heading2Button","heading3Button","linkButton","tokenButton","ulButton","olButton","addEventListener","classList","toggle"],"mappings":"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","file":"../app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _markdownEditor = require('./markdown-editor');\n\nvar markdown = _interopRequireWildcard(_markdownEditor);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nmarkdown.setInputArea(document.querySelector('#input-area'));\nmarkdown.setOutputArea(document.querySelector('#output-area'));\n\n},{\"./markdown-editor\":2}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n// -------------------------------------------\n// DEFAULT INPUT AND OUTPUT AREA\nvar textarea = document.querySelector('#editor-content');\nvar outputArea = document.querySelector('#output');\nvar previewMessage = document.querySelector('.preview-message');\n\n// -------------------------------------------\n// TOOLBAR\n// -------------------------------------------\nvar preview = document.querySelector('#preview');\nvar boldButton = document.querySelector('#bold');\nvar italicButton = document.querySelector('#italic');\nvar heading1Button = document.querySelector('#heading1');\nvar heading2Button = document.querySelector('#heading2');\nvar heading3Button = document.querySelector('#heading3');\nvar linkButton = document.querySelector('#link');\nvar tokenButton = document.querySelector('#token');\nvar ulButton = document.querySelector('#list-ul');\nvar olButton = document.querySelector('#list-ol');\n\npreview.addEventListener('click', function () {\n\toutput(parse(textarea.value));\n\n\toutputArea.classList.toggle('show');\n\tpreviewMessage.classList.toggle('show');\n\tpreview.classList.toggle('active');\n});\n\nboldButton.addEventListener('click', function () {\n\treturn insertText(textarea, '****', 'demo', 2, 6);\n});\n\nitalicButton.addEventListener('click', function () {\n\treturn insertText(textarea, '**', 'demo', 1, 5);\n});\n\nheading1Button.addEventListener('click', function () {\n\treturn insertText(textarea, '#', 'heading1', 1, 9);\n});\n\nheading2Button.addEventListener('click', function () {\n\treturn insertText(textarea, '##', 'heading2', 2, 10);\n});\n\nheading3Button.addEventListener('click', function () {\n\treturn insertText(textarea, '###', 'heading3', 3, 11);\n});\n\nlinkButton.addEventListener('click', function () {\n\treturn insertText(textarea, '[](http://...)', 'url text', 1, 9);\n});\n\ntokenButton.addEventListener('click', function () {\n\treturn insertText(textarea, '{{}}', 'tokenValue', 2, 12);\n});\n\nulButton.addEventListener('click', function () {\n\tinsertText(textarea, '* ', 'item', 2, 6);\n});\n\nolButton.addEventListener('click', function () {\n\treturn insertText(textarea, '1. ', 'item', 3, 7);\n});\n\n// -------------------------------------------\n\nfunction setInputArea(inputElement) {\n\ttextarea = inputElement;\n}\n\nfunction setOutputArea(outputElement) {\n\toutputArea = outputElement;\n}\n\nfunction insertText(textarea, syntax) {\n\tvar placeholder = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'demo';\n\tvar selectionStart = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\tvar selectionEnd = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n\n\t// Current Selection\n\tvar currentSelectionStart = textarea.selectionStart;\n\tvar currentSelectionEnd = textarea.selectionEnd;\n\tvar currentText = textarea.value;\n\n\tif (currentSelectionStart === currentSelectionEnd) {\n\t\tvar textWithSyntax = textarea.value = currentText.substring(0, currentSelectionStart) + syntax + currentText.substring(currentSelectionEnd);\n\t\ttextarea.value = textWithSyntax.substring(0, currentSelectionStart + selectionStart) + placeholder + textWithSyntax.substring(currentSelectionStart + selectionStart);\n\n\t\ttextarea.focus();\n\t\ttextarea.selectionStart = currentSelectionStart + selectionStart;\n\t\ttextarea.selectionEnd = currentSelectionEnd + selectionEnd;\n\t} else {\n\t\tvar selectedText = currentText.substring(currentSelectionStart, currentSelectionEnd);\n\t\tvar withoutSelection = currentText.substring(0, currentSelectionStart) + currentText.substring(currentSelectionEnd);\n\t\tvar _textWithSyntax = withoutSelection.substring(0, currentSelectionStart) + syntax + withoutSelection.substring(currentSelectionStart);\n\n\t\t// Surround selected text\n\t\ttextarea.value = _textWithSyntax.substring(0, currentSelectionStart + selectionStart) + selectedText + _textWithSyntax.substring(currentSelectionStart + selectionStart);\n\n\t\ttextarea.focus();\n\t\ttextarea.selectionEnd = currentSelectionEnd + selectionStart + selectedText.length;\n\t}\n}\n\nfunction output(lines) {\n\toutputArea.innerHTML = lines;\n}\n\n// -------------------------------------------\n// PARSER\n// -------------------------------------------\n\nfunction parse(content) {\n\t// Regular Expressions\n\tvar h1 = /^#{1}[^#].*$/gm;\n\tvar h2 = /^#{2}[^#].*$/gm;\n\tvar h3 = /^#{3}[^#].*$/gm;\n\tvar bold = /\\*\\*[^\\*\\n]+\\*\\*/gm;\n\tvar italics = /[^\\*]\\*[^\\*\\n]+\\*/gm;\n\tvar link = /\\[[\\w|\\(|\\)|\\s|\\*|\\?|\\-|\\.|\\,]*(\\]\\(){1}[^\\)]*\\)/gm;\n\tvar lists = /^((\\s*((\\*|\\-)|\\d(\\.|\\))) [^\\n]+))+$/gm;\n\tvar unorderedList = /^[\\*|\\+|\\-]\\s.*$/;\n\tvar unorderedSubList = /^\\s\\s\\s*[\\*|\\+|\\-]\\s.*$/;\n\tvar orderedList = /^\\d\\.\\s.*$/;\n\tvar orderedSubList = /^\\s\\s+\\d\\.\\s.*$/;\n\n\t// Example: # Heading 1\n\tif (h1.test(content)) {\n\t\tvar matches = content.match(h1);\n\n\t\tmatches.forEach(function (element) {\n\t\t\tvar extractedText = element.slice(1);\n\t\t\tcontent = content.replace(element, '<h1>' + extractedText + '</h1>');\n\t\t});\n\t}\n\n\t// Example: # Heading 2\n\tif (h2.test(content)) {\n\t\tvar _matches = content.match(h2);\n\n\t\t_matches.forEach(function (element) {\n\t\t\tvar extractedText = element.slice(2);\n\t\t\tcontent = content.replace(element, '<h2>' + extractedText + '</h2>');\n\t\t});\n\t}\n\n\t// Example: # Heading 3\n\tif (h3.test(content)) {\n\t\tvar _matches2 = content.match(h3);\n\n\t\t_matches2.forEach(function (element) {\n\t\t\tvar extractedText = element.slice(3);\n\t\t\tcontent = content.replace(element, '<h3>' + extractedText + '</h3>');\n\t\t});\n\t}\n\n\t// Example: **Bold**\n\tif (bold.test(content)) {\n\t\tvar _matches3 = content.match(bold);\n\n\t\t_matches3.forEach(function (element) {\n\t\t\tvar extractedText = element.slice(2, -2);\n\t\t\tcontent = content.replace(element, '<strong>' + extractedText + '</strong>');\n\t\t});\n\t}\n\n\t// Example: *Italic*\n\tif (italics.test(content)) {\n\t\tvar _matches4 = content.match(italics);\n\n\t\t_matches4.forEach(function (element) {\n\t\t\tvar extractedText = element.slice(2, -1);\n\t\t\tcontent = content.replace(element, ' <em>' + extractedText + '</em>');\n\t\t});\n\t}\n\n\t// Example: [I'm an inline-style link](https://www.google.com)\n\tif (link.test(content)) {\n\t\tvar links = content.match(link);\n\n\t\tlinks.forEach(function (element) {\n\t\t\tvar text = element.match(/^\\[.*\\]/)[0].slice(1, -1);\n\t\t\tvar url = element.match(/\\]\\(.*\\)/)[0].slice(2, -1);\n\n\t\t\tcontent = content.replace(element, '<a href=\"' + url + '\">' + text + '</a>');\n\t\t});\n\t}\n\n\tif (lists.test(content)) {\n\t\tvar _matches5 = content.match(lists);\n\n\t\t_matches5.forEach(function (list) {\n\t\t\tvar listArray = list.split('\\n');\n\n\t\t\tvar formattedList = listArray.map(function (currentValue, index, array) {\n\t\t\t\tif (unorderedList.test(currentValue)) {\n\t\t\t\t\tcurrentValue = '<li>' + currentValue.slice(2) + '</li>';\n\n\t\t\t\t\tif (!unorderedList.test(array[index - 1]) && !unorderedSubList.test(array[index - 1])) {\n\t\t\t\t\t\tcurrentValue = '<ul>' + currentValue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!unorderedList.test(array[index + 1]) && !unorderedSubList.test(array[index + 1])) {\n\t\t\t\t\t\tcurrentValue = currentValue + '</ul>';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (unorderedSubList.test(array[index + 1]) || orderedSubList.test(array[index + 1])) {\n\t\t\t\t\t\tcurrentValue = currentValue.replace('</li>', '');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (unorderedSubList.test(currentValue)) {\n\t\t\t\t\tcurrentValue = currentValue.trim();\n\t\t\t\t\tcurrentValue = '<li>' + currentValue.slice(2) + '</li>';\n\n\t\t\t\t\tif (!unorderedSubList.test(array[index - 1])) {\n\t\t\t\t\t\tcurrentValue = '<ul>' + currentValue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!unorderedSubList.test(array[index + 1]) && unorderedList.test(array[index + 1])) {\n\t\t\t\t\t\tcurrentValue = currentValue + '</ul></li>';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!unorderedSubList.test(array[index + 1]) && !unorderedList.test(array[index + 1])) {\n\t\t\t\t\t\tcurrentValue = currentValue + '</ul></li></ul>';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (orderedList.test(currentValue)) {\n\t\t\t\t\tcurrentValue = '<li>' + currentValue.slice(2) + '</li>';\n\n\t\t\t\t\tif (!orderedList.test(array[index - 1]) && !orderedSubList.test(array[index - 1])) {\n\t\t\t\t\t\tcurrentValue = '<ol>' + currentValue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!orderedList.test(array[index + 1]) && !orderedSubList.test(array[index + 1]) && !orderedList.test(array[index + 1])) {\n\t\t\t\t\t\tcurrentValue = currentValue + '</ol>';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (unorderedSubList.test(array[index + 1]) || orderedSubList.test(array[index + 1])) {\n\t\t\t\t\t\tcurrentValue = currentValue.replace('</li>', '');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (orderedSubList.test(currentValue)) {\n\t\t\t\t\tcurrentValue = currentValue.trim();\n\t\t\t\t\tcurrentValue = '<li>' + currentValue.slice(2) + '</li>';\n\n\t\t\t\t\tif (!orderedSubList.test(array[index - 1])) {\n\t\t\t\t\t\tcurrentValue = '<ol>' + currentValue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (orderedList.test(array[index + 1]) && !orderedSubList.test(array[index + 1])) {\n\t\t\t\t\t\tcurrentValue = currentValue + '</ol>';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!orderedList.test(array[index + 1]) && !orderedSubList.test(array[index + 1])) {\n\t\t\t\t\t\tcurrentValue = currentValue + '</ol></li></ol>';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn currentValue;\n\t\t\t}).join('');\n\n\t\t\tconsole.log(formattedList);\n\t\t\tcontent = content.replace(list, formattedList);\n\t\t});\n\t}\n\n\treturn content.split('\\n').map(function (line) {\n\t\tif (!h1.test(line) && !h2.test(line) && !h3.test(line) && !unorderedList.test(line) && !unorderedSubList.test(line) && !orderedList.test(line) && !orderedSubList.test(line)) {\n\t\t\treturn line.replace(line, '<p>' + line + '</p>');\n\t\t}\n\t}).join('');\n}\n\nexports.setInputArea = setInputArea;\nexports.setOutputArea = setOutputArea;\nexports.parse = parse;\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGFwcC5qcyIsInNyY1xcbWFya2Rvd24tZWRpdG9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7SUFBWSxROzs7O0FBRVosU0FBUyxZQUFULENBQXVCLFNBQVMsYUFBVCxDQUF3QixhQUF4QixDQUF2QjtBQUNBLFNBQVMsYUFBVCxDQUF3QixTQUFTLGFBQVQsQ0FBd0IsY0FBeEIsQ0FBeEI7Ozs7Ozs7O0FDSEE7QUFDQTtBQUNBLElBQUksV0FBVyxTQUFTLGFBQVQsQ0FBd0IsaUJBQXhCLENBQWY7QUFDQSxJQUFJLGFBQWEsU0FBUyxhQUFULENBQXdCLFNBQXhCLENBQWpCO0FBQ0EsSUFBSSxpQkFBaUIsU0FBUyxhQUFULENBQXdCLGtCQUF4QixDQUFyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFNLFVBQVUsU0FBUyxhQUFULENBQXdCLFVBQXhCLENBQWhCO0FBQ0EsSUFBTSxhQUFhLFNBQVMsYUFBVCxDQUF3QixPQUF4QixDQUFuQjtBQUNBLElBQU0sZUFBZSxTQUFTLGFBQVQsQ0FBd0IsU0FBeEIsQ0FBckI7QUFDQSxJQUFNLGlCQUFpQixTQUFTLGFBQVQsQ0FBd0IsV0FBeEIsQ0FBdkI7QUFDQSxJQUFNLGlCQUFpQixTQUFTLGFBQVQsQ0FBd0IsV0FBeEIsQ0FBdkI7QUFDQSxJQUFNLGlCQUFpQixTQUFTLGFBQVQsQ0FBd0IsV0FBeEIsQ0FBdkI7QUFDQSxJQUFNLGFBQWEsU0FBUyxhQUFULENBQXdCLE9BQXhCLENBQW5CO0FBQ0EsSUFBTSxjQUFjLFNBQVMsYUFBVCxDQUF3QixRQUF4QixDQUFwQjtBQUNBLElBQU0sV0FBVyxTQUFTLGFBQVQsQ0FBd0IsVUFBeEIsQ0FBakI7QUFDQSxJQUFNLFdBQVcsU0FBUyxhQUFULENBQXdCLFVBQXhCLENBQWpCOztBQUdBLFFBQVEsZ0JBQVIsQ0FBMEIsT0FBMUIsRUFBbUMsWUFBTTtBQUN4QyxRQUFR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aUJBQWlCLElBQWpCLENBQXVCLElBQXZCLENBQWpHLElBQWtJLENBQUUsWUFBWSxJQUFaLENBQWtCLElBQWxCLENBQXBJLElBQWdLLENBQUUsZUFBZSxJQUFmLENBQXFCLElBQXJCLENBQXRLLEVBQW9NO0FBQ25NLFVBQU8sS0FBSyxPQUFMLENBQWMsSUFBZCxFQUFvQixRQUFRLElBQVIsR0FBZSxNQUFuQyxDQUFQO0FBQ0E7QUFDRCxFQUpNLEVBSUgsSUFKRyxDQUlHLEVBSkgsQ0FBUDtBQUtBOztRQUVRLFksR0FBQSxZO1FBQWMsYSxHQUFBLGE7UUFBZSxLLEdBQUEsSyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgKiBhcyBtYXJrZG93biBmcm9tICcuL21hcmtkb3duLWVkaXRvcic7XG5cbm1hcmtkb3duLnNldElucHV0QXJlYSggZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJyNpbnB1dC1hcmVhJyApICk7XG5tYXJrZG93bi5zZXRPdXRwdXRBcmVhKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnI291dHB1dC1hcmVhJyApICk7IiwiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gREVGQVVMVCBJTlBVVCBBTkQgT1VUUFVUIEFSRUFcbmxldCB0ZXh0YXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcjZWRpdG9yLWNvbnRlbnQnICk7XG5sZXQgb3V0cHV0QXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcjb3V0cHV0JyApO1xubGV0IHByZXZpZXdNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJy5wcmV2aWV3LW1lc3NhZ2UnICk7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRPT0xCQVJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmNvbnN0IHByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnI3ByZXZpZXcnICk7XG5jb25zdCBib2xkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJyNib2xkJyApO1xuY29uc3QgaXRhbGljQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJyNpdGFsaWMnICk7XG5jb25zdCBoZWFkaW5nMUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcjaGVhZGluZzEnICk7XG5jb25zdCBoZWFkaW5nMkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcjaGVhZGluZzInICk7XG5jb25zdCBoZWFkaW5nM0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcjaGVhZGluZzMnICk7XG5jb25zdCBsaW5rQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJyNsaW5rJyApO1xuY29uc3QgdG9rZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnI3Rva2VuJyApO1xuY29uc3QgdWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnI2xpc3QtdWwnICk7XG5jb25zdCBvbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcjbGlzdC1vbCcgKTtcblxuXG5wcmV2aWV3LmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsICgpID0+IHtcblx0b3V0cHV0KCBwYXJzZSggdGV4dGFyZWEudmFsdWUgKSApO1xuXG5cdG91dHB1dEFyZWEuY2xhc3NMaXN0LnRvZ2dsZSggJ3Nob3cnICk7XG5cdHByZXZpZXdNZXNzYWdlLmNsYXNzTGlzdC50b2dnbGUoICdzaG93JyApO1xuXHRwcmV2aWV3LmNsYXNzTGlzdC50b2dnbGUoICdhY3RpdmUnICk7XG59ICk7XG5cbmJvbGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCkgPT5cblx0aW5zZXJ0VGV4dCggdGV4dGFyZWEsICcqKioqJywgJ2RlbW8nLCAyLCA2IClcbik7XG5cbml0YWxpY0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCAoKSA9PlxuXHRpbnNlcnRUZXh0KCB0ZXh0YXJlYSwgJyoqJywgJ2RlbW8nLCAgMSwgNSApXG4pO1xuXG5oZWFkaW5nMUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCAoKSA9PlxuXHRpbnNlcnRUZXh0KCB0ZXh0YXJlYSwgJyMnLCAnaGVhZGluZzEnLCAxLCA5IClcbik7XG5cbmhlYWRpbmcyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsICgpID0+XG5cdGluc2VydFRleHQoIHRleHRhcmVhLCAnIyMnLCAnaGVhZGluZzInLCAyLCAxMCApXG4pO1xuXG5oZWFkaW5nM0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCAoKSA9PlxuXHRpbnNlcnRUZXh0KCB0ZXh0YXJlYSwgJyMjIycsICdoZWFkaW5nMycsIDMsIDExIClcbik7XG5cbmxpbmtCdXR0b24uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCkgPT5cblx0aW5zZXJ0VGV4dCggdGV4dGFyZWEsICdbXShodHRwOi8vLi4uKScsICd1cmwgdGV4dCcsIDEsIDkgKVxuKTtcblxudG9rZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCkgPT5cblx0aW5zZXJ0VGV4dCggdGV4dGFyZWEsICd7e319JywgJ3Rva2VuVmFsdWUnLCAyLCAxMiApXG4pO1xuXG51bEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblx0aW5zZXJ0VGV4dCggdGV4dGFyZWEsICcqICcsICdpdGVtJywgMiwgNiApO1xufSApO1xuXG5vbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCAoKSA9PlxuXHRpbnNlcnRUZXh0KCB0ZXh0YXJlYSwgJzEuICcsICdpdGVtJywgMywgNyApXG4pO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIHNldElucHV0QXJlYSggaW5wdXRFbGVtZW50ICkge1xuXHR0ZXh0YXJlYSA9IGlucHV0RWxlbWVudDtcbn1cblxuZnVuY3Rpb24gc2V0T3V0cHV0QXJlYSggb3V0cHV0RWxlbWVudCApIHtcblx0b3V0cHV0QXJlYSA9IG91dHB1dEVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGluc2VydFRleHQoIHRleHRhcmVhLCBzeW50YXgsIHBsYWNlaG9sZGVyID0gJ2RlbW8nLCBzZWxlY3Rpb25TdGFydCA9IDAsIHNlbGVjdGlvbkVuZCA9IDAgKSB7XG5cdC8vIEN1cnJlbnQgU2VsZWN0aW9uXG5cdGNvbnN0IGN1cnJlbnRTZWxlY3Rpb25TdGFydCA9IHRleHRhcmVhLnNlbGVjdGlvblN0YXJ0O1xuXHRjb25zdCBjdXJyZW50U2VsZWN0aW9uRW5kID0gdGV4dGFyZWEuc2VsZWN0aW9uRW5kO1xuXHRjb25zdCBjdXJyZW50VGV4dCA9IHRleHRhcmVhLnZhbHVlO1xuXG5cdGlmKCBjdXJyZW50U2VsZWN0aW9uU3RhcnQgPT09IGN1cnJlbnRTZWxlY3Rpb25FbmQgKSB7XG5cdFx0Y29uc3QgdGV4dFdpdGhTeW50YXggPSB0ZXh0YXJlYS52YWx1ZSA9IGN1cnJlbnRUZXh0LnN1YnN0cmluZyggMCwgY3VycmVudFNlbGVjdGlvblN0YXJ0ICkgKyBzeW50YXggKyBjdXJyZW50VGV4dC5zdWJzdHJpbmcoIGN1cnJlbnRTZWxlY3Rpb25FbmQgKTtcblx0XHR0ZXh0YXJlYS52YWx1ZSA9IHRleHRXaXRoU3ludGF4LnN1YnN0cmluZyggMCwgY3VycmVudFNlbGVjdGlvblN0YXJ0ICsgc2VsZWN0aW9uU3RhcnQgKSArIHBsYWNlaG9sZGVyICsgdGV4dFdpdGhTeW50YXguc3Vic3RyaW5nKCBjdXJyZW50U2VsZWN0aW9uU3RhcnQgKyBzZWxlY3Rpb25TdGFydCApXG5cblx0XHR0ZXh0YXJlYS5mb2N1cygpO1xuXHRcdHRleHRhcmVhLnNlbGVjdGlvblN0YXJ0ID0gY3VycmVudFNlbGVjdGlvblN0YXJ0ICsgc2VsZWN0aW9uU3RhcnQ7XG5cdFx0dGV4dGFyZWEuc2VsZWN0aW9uRW5kID0gY3VycmVudFNlbGVjdGlvbkVuZCArIHNlbGVjdGlvbkVuZDtcblx0fSBlbHNlIHtcblx0XHRjb25zdCBzZWxlY3RlZFRleHQgPSBjdXJyZW50VGV4dC5zdWJzdHJpbmcoIGN1cnJlbnRTZWxlY3Rpb25TdGFydCwgY3VycmVudFNlbGVjdGlvbkVuZCApO1xuXHRcdGNvbnN0IHdpdGhvdXRTZWxlY3Rpb24gPSBjdXJyZW50VGV4dC5zdWJzdHJpbmcoIDAsIGN1cnJlbnRTZWxlY3Rpb25TdGFydCApICsgY3VycmVudFRleHQuc3Vic3RyaW5nKCBjdXJyZW50U2VsZWN0aW9uRW5kICk7XG5cdFx0Y29uc3QgdGV4dFdpdGhTeW50YXggPSB3aXRob3V0U2VsZWN0aW9uLnN1YnN0cmluZyggMCwgY3VycmVudFNlbGVjdGlvblN0YXJ0ICkgKyBzeW50YXggKyB3aXRob3V0U2VsZWN0aW9uLnN1YnN0cmluZyggY3VycmVudFNlbGVjdGlvblN0YXJ0ICk7XG5cblx0XHQvLyBTdXJyb3VuZCBzZWxlY3RlZCB0ZXh0XG5cdFx0dGV4dGFyZWEudmFsdWUgPSB0ZXh0V2l0aFN5bnRheC5zdWJzdHJpbmcoIDAsIGN1cnJlbnRTZWxlY3Rpb25TdGFydCArIHNlbGVjdGlvblN0YXJ0ICkgKyBzZWxlY3RlZFRleHQgKyB0ZXh0V2l0aFN5bnRheC5zdWJzdHJpbmcoIGN1cnJlbnRTZWxlY3Rpb25TdGFydCArIHNlbGVjdGlvblN0YXJ0ICk7XG5cblx0XHR0ZXh0YXJlYS5mb2N1cygpO1xuXHRcdHRleHRhcmVhLnNlbGVjdGlvbkVuZCA9IGN1cnJlbnRTZWxlY3Rpb25FbmQgKyBzZWxlY3Rpb25TdGFydCArIHNlbGVjdGVkVGV4dC5sZW5ndGg7XG5cdH1cbn1cblxuZnVuY3Rpb24gb3V0cHV0KCBsaW5lcyApIHtcblx0b3V0cHV0QXJlYS5pbm5lckhUTUwgPSBsaW5lcztcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUEFSU0VSXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIHBhcnNlKCBjb250ZW50ICkge1xuXHQvLyBSZWd1bGFyIEV4cHJlc3Npb25zXG5cdGNvbnN0IGgxID0gL14jezF9W14jXS4qJC9nbTtcblx0Y29uc3QgaDIgPSAvXiN7Mn1bXiNdLiokL2dtO1xuXHRjb25zdCBoMyA9IC9eI3szfVteI10uKiQvZ207XG5cdGNvbnN0IGJvbGQgPSAvXFwqXFwqW15cXCpcXG5dK1xcKlxcKi9nbTtcblx0Y29uc3QgaXRhbGljcyA9IC9bXlxcKl1cXCpbXlxcKlxcbl0rXFwqL2dtO1xuXHRjb25zdCBsaW5rID0gL1xcW1tcXHd8XFwofFxcKXxcXHN8XFwqfFxcP3xcXC18XFwufFxcLF0qKFxcXVxcKCl7MX1bXlxcKV0qXFwpL2dtO1xuXHRjb25zdCBsaXN0cyA9IC9eKChcXHMqKChcXCp8XFwtKXxcXGQoXFwufFxcKSkpIFteXFxuXSspKSskL2dtO1xuXHRjb25zdCB1bm9yZGVyZWRMaXN0ID0gL15bXFwqfFxcK3xcXC1dXFxzLiokLztcblx0Y29uc3QgdW5vcmRlcmVkU3ViTGlzdCA9IC9eXFxzXFxzXFxzKltcXCp8XFwrfFxcLV1cXHMuKiQvO1xuXHRjb25zdCBvcmRlcmVkTGlzdCA9IC9eXFxkXFwuXFxzLiokLztcblx0Y29uc3Qgb3JkZXJlZFN1Ykxpc3QgPSAvXlxcc1xccytcXGRcXC5cXHMuKiQvO1xuXG5cdC8vIEV4YW1wbGU6ICMgSGVhZGluZyAxXG5cdGlmKCBoMS50ZXN0KCBjb250ZW50ICkgKSB7XG5cdFx0Y29uc3QgbWF0Y2hlcyA9IGNvbnRlbnQubWF0Y2goIGgxICk7XG5cblx0XHRtYXRjaGVzLmZvckVhY2goIGVsZW1lbnQgPT4ge1xuXHRcdFx0Y29uc3QgZXh0cmFjdGVkVGV4dCA9IGVsZW1lbnQuc2xpY2UoIDEgKTtcblx0XHRcdGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoIGVsZW1lbnQsICc8aDE+JyArIGV4dHJhY3RlZFRleHQgKyAnPC9oMT4nICk7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gRXhhbXBsZTogIyBIZWFkaW5nIDJcblx0aWYoIGgyLnRlc3QoIGNvbnRlbnQgKSApIHtcblx0XHRjb25zdCBtYXRjaGVzID0gY29udGVudC5tYXRjaCggaDIgKTtcblxuXHRcdG1hdGNoZXMuZm9yRWFjaCggZWxlbWVudCA9PiB7XG5cdFx0XHRjb25zdCBleHRyYWN0ZWRUZXh0ID0gZWxlbWVudC5zbGljZSggMiApO1xuXHRcdFx0Y29udGVudCA9IGNvbnRlbnQucmVwbGFjZSggZWxlbWVudCwgJzxoMj4nICsgZXh0cmFjdGVkVGV4dCArICc8L2gyPicgKTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBFeGFtcGxlOiAjIEhlYWRpbmcgM1xuXHRpZiggaDMudGVzdCggY29udGVudCApICkge1xuXHRcdGNvbnN0IG1hdGNoZXMgPSBjb250ZW50Lm1hdGNoKCBoMyApO1xuXG5cdFx0bWF0Y2hlcy5mb3JFYWNoKCBlbGVtZW50ID0+IHtcblx0XHRcdGNvbnN0IGV4dHJhY3RlZFRleHQgPSBlbGVtZW50LnNsaWNlKCAzICk7XG5cdFx0XHRjb250ZW50ID0gY29udGVudC5yZXBsYWNlKCBlbGVtZW50LCAnPGgzPicgKyBleHRyYWN0ZWRUZXh0ICsgJzwvaDM+JyApO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIEV4YW1wbGU6ICoqQm9sZCoqXG5cdGlmKCBib2xkLnRlc3QoIGNvbnRlbnQgKSApIHtcblx0XHRjb25zdCBtYXRjaGVzID0gY29udGVudC5tYXRjaCggYm9sZCApO1xuXG5cdFx0bWF0Y2hlcy5mb3JFYWNoKCBlbGVtZW50ID0+IHtcblx0XHRcdGNvbnN0IGV4dHJhY3RlZFRleHQgPSBlbGVtZW50LnNsaWNlKCAyLCAtMiApO1xuXHRcdFx0Y29udGVudCA9IGNvbnRlbnQucmVwbGFjZSggZWxlbWVudCwgJzxzdHJvbmc+JyArIGV4dHJhY3RlZFRleHQgKyAnPC9zdHJvbmc+JyApO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIEV4YW1wbGU6ICpJdGFsaWMqXG5cdGlmKCBpdGFsaWNzLnRlc3QoIGNvbnRlbnQgKSApIHtcblx0XHRjb25zdCBtYXRjaGVzID0gY29udGVudC5tYXRjaCggaXRhbGljcyApO1xuXG5cdFx0bWF0Y2hlcy5mb3JFYWNoKCBlbGVtZW50ID0+IHtcblx0XHRcdGNvbnN0IGV4dHJhY3RlZFRleHQgPSBlbGVtZW50LnNsaWNlKCAyLCAtMSApO1xuXHRcdFx0Y29udGVudCA9IGNvbnRlbnQucmVwbGFjZSggZWxlbWVudCwgJyA8ZW0+JyArIGV4dHJhY3RlZFRleHQgKyAnPC9lbT4nICk7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gRXhhbXBsZTogW0knbSBhbiBpbmxpbmUtc3R5bGUgbGlua10oaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbSlcblx0aWYoIGxpbmsudGVzdCggY29udGVudCApICkge1xuXHRcdGNvbnN0IGxpbmtzID0gY29udGVudC5tYXRjaCggbGluayApO1xuXG5cdFx0bGlua3MuZm9yRWFjaCggZWxlbWVudCA9PiB7XG5cdFx0XHRjb25zdCB0ZXh0ID0gZWxlbWVudC5tYXRjaCggL15cXFsuKlxcXS8gKVsgMCBdLnNsaWNlKCAxLCAtMSApO1xuXHRcdFx0Y29uc3QgdXJsID0gZWxlbWVudC5tYXRjaCggL1xcXVxcKC4qXFwpLyApWyAwIF0uc2xpY2UoIDIsIC0xICk7XG5cblx0XHRcdGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoIGVsZW1lbnQsICc8YSBocmVmPVwiJyArIHVybCArICdcIj4nICsgdGV4dCArICc8L2E+JyApO1xuXHRcdH0gKTtcblx0fVxuXG5cdGlmKCBsaXN0cy50ZXN0KCBjb250ZW50ICkgKSB7XG5cdFx0Y29uc3QgbWF0Y2hlcyA9IGNvbnRlbnQubWF0Y2goIGxpc3RzICk7XG5cblx0XHRtYXRjaGVzLmZvckVhY2goIGxpc3QgPT4ge1xuXHRcdFx0Y29uc3QgbGlzdEFycmF5ID0gbGlzdC5zcGxpdCggJ1xcbicgKTtcblxuXHRcdFx0Y29uc3QgZm9ybWF0dGVkTGlzdCA9IGxpc3RBcnJheS5tYXAoICggY3VycmVudFZhbHVlLCBpbmRleCwgYXJyYXkgKSA9PiB7XG5cdFx0XHRcdGlmKCB1bm9yZGVyZWRMaXN0LnRlc3QoIGN1cnJlbnRWYWx1ZSApICkge1xuXHRcdFx0XHRcdGN1cnJlbnRWYWx1ZSA9ICc8bGk+JyArIGN1cnJlbnRWYWx1ZS5zbGljZSggMiApICsgJzwvbGk+JztcblxuXHRcdFx0XHRcdGlmKCAhICB1bm9yZGVyZWRMaXN0LnRlc3QoIGFycmF5WyBpbmRleCAtIDEgXSApICYmICEgdW5vcmRlcmVkU3ViTGlzdC50ZXN0KCBhcnJheVsgaW5kZXggLSAxIF0gKSApIHtcblx0XHRcdFx0XHRcdGN1cnJlbnRWYWx1ZSA9ICc8dWw+JyArIGN1cnJlbnRWYWx1ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiggISAgdW5vcmRlcmVkTGlzdC50ZXN0KCBhcnJheVsgaW5kZXggKyAxIF0gKSAgJiYgICEgdW5vcmRlcmVkU3ViTGlzdC50ZXN0KCBhcnJheVsgaW5kZXggKyAxIF0gKSApIHtcblx0XHRcdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGN1cnJlbnRWYWx1ZSArICc8L3VsPic7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYoIHVub3JkZXJlZFN1Ykxpc3QudGVzdCggYXJyYXlbIGluZGV4ICsgMSBdICkgfHwgb3JkZXJlZFN1Ykxpc3QudGVzdCggYXJyYXlbIGluZGV4ICsgMSBdICkgKSB7XG5cdFx0XHRcdFx0XHRjdXJyZW50VmFsdWUgPSBjdXJyZW50VmFsdWUucmVwbGFjZSggJzwvbGk+JywgJycgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiggdW5vcmRlcmVkU3ViTGlzdC50ZXN0KCBjdXJyZW50VmFsdWUgKSApIHtcblx0XHRcdFx0XHRjdXJyZW50VmFsdWUgPSBjdXJyZW50VmFsdWUudHJpbSgpO1xuXHRcdFx0XHRcdGN1cnJlbnRWYWx1ZSA9ICc8bGk+JyArIGN1cnJlbnRWYWx1ZS5zbGljZSggMiApICsgJzwvbGk+JztcblxuXHRcdFx0XHRcdGlmKCAhIHVub3JkZXJlZFN1Ykxpc3QudGVzdCggYXJyYXlbIGluZGV4IC0gMSBdICkgKSB7XG5cdFx0XHRcdFx0XHRjdXJyZW50VmFsdWUgPSAnPHVsPicgKyBjdXJyZW50VmFsdWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYoICEgdW5vcmRlcmVkU3ViTGlzdC50ZXN0KCBhcnJheVsgaW5kZXggKyAxIF0gKSAmJiB1bm9yZGVyZWRMaXN0LnRlc3QoIGFycmF5WyBpbmRleCArIDEgXSApICkge1xuXHRcdFx0XHRcdFx0Y3VycmVudFZhbHVlID0gY3VycmVudFZhbHVlICsgJzwvdWw+PC9saT4nO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmKCAhIHVub3JkZXJlZFN1Ykxpc3QudGVzdCggYXJyYXlbIGluZGV4ICsgMSBdICkgJiYgISB1bm9yZGVyZWRMaXN0LnRlc3QoIGFycmF5WyBpbmRleCArIDEgXSApICkge1xuXHRcdFx0XHRcdFx0Y3VycmVudFZhbHVlID0gY3VycmVudFZhbHVlICsgJzwvdWw+PC9saT48L3VsPic7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoIG9yZGVyZWRMaXN0LnRlc3QoIGN1cnJlbnRWYWx1ZSApICkge1xuXHRcdFx0XHRcdGN1cnJlbnRWYWx1ZSA9ICc8bGk+JyArIGN1cnJlbnRWYWx1ZS5zbGljZSggMiApICsgJzwvbGk+JztcblxuXHRcdFx0XHRcdGlmKCAhIG9yZGVyZWRMaXN0LnRlc3QoIGFycmF5WyBpbmRleCAtIDEgXSApICYmICEgb3JkZXJlZFN1Ykxpc3QudGVzdCggYXJyYXlbIGluZGV4IC0gMSBdICkgKSB7XG5cdFx0XHRcdFx0XHRjdXJyZW50VmFsdWUgPSAnPG9sPicgKyBjdXJyZW50VmFsdWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYoICEgb3JkZXJlZExpc3QudGVzdCggYXJyYXlbIGluZGV4ICsgMSBdICkgJiYgISBvcmRlcmVkU3ViTGlzdC50ZXN0KCBhcnJheVsgaW5kZXggKyAxIF0gKSAmJiAhIG9yZGVyZWRMaXN0LnRlc3QoIGFycmF5WyBpbmRleCArIDEgXSApICkge1xuXHRcdFx0XHRcdFx0Y3VycmVudFZhbHVlID0gY3VycmVudFZhbHVlICsgJzwvb2w+Jztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiggdW5vcmRlcmVkU3ViTGlzdC50ZXN0KCBhcnJheVsgaW5kZXggKyAxIF0gKSB8fCBvcmRlcmVkU3ViTGlzdC50ZXN0KCBhcnJheVsgaW5kZXggKyAxIF0gKSApIHtcblx0XHRcdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGN1cnJlbnRWYWx1ZS5yZXBsYWNlKCAnPC9saT4nLCAnJyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmKCBvcmRlcmVkU3ViTGlzdC50ZXN0KCBjdXJyZW50VmFsdWUgKSApIHtcblx0XHRcdFx0XHRjdXJyZW50VmFsdWUgPSBjdXJyZW50VmFsdWUudHJpbSgpO1xuXHRcdFx0XHRcdGN1cnJlbnRWYWx1ZSA9ICc8bGk+JyArIGN1cnJlbnRWYWx1ZS5zbGljZSggMiApICsgJzwvbGk+JztcblxuXHRcdFx0XHRcdGlmKCAhIG9yZGVyZWRTdWJMaXN0LnRlc3QoIGFycmF5WyBpbmRleCAtIDEgXSApICkge1xuXHRcdFx0XHRcdFx0Y3VycmVudFZhbHVlID0gJzxvbD4nICsgY3VycmVudFZhbHVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmKCBvcmRlcmVkTGlzdC50ZXN0KCBhcnJheVsgaW5kZXggKyAxIF0gKSAmJiAhIG9yZGVyZWRTdWJMaXN0LnRlc3QoIGFycmF5WyBpbmRleCArIDEgXSApICkge1xuXHRcdFx0XHRcdFx0Y3VycmVudFZhbHVlID0gY3VycmVudFZhbHVlICsgJzwvb2w+Jztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiggISBvcmRlcmVkTGlzdC50ZXN0KCBhcnJheVsgaW5kZXggKyAxIF0gKSAmJiAhIG9yZGVyZWRTdWJMaXN0LnRlc3QoIGFycmF5WyBpbmRleCArIDEgXSApICkge1xuXHRcdFx0XHRcdFx0Y3VycmVudFZhbHVlID0gY3VycmVudFZhbHVlICsgJzwvb2w+PC9saT48L29sPic7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRWYWx1ZTtcblx0XHRcdH0gKS5qb2luKCAnJyApO1xuXG5cdFx0XHRjb25zb2xlLmxvZyggZm9ybWF0dGVkTGlzdCApO1xuXHRcdFx0Y29udGVudCA9IGNvbnRlbnQucmVwbGFjZSggbGlzdCwgZm9ybWF0dGVkTGlzdCApO1xuXHRcdH0gKTtcblx0fVxuXG5cdHJldHVybiBjb250ZW50LnNwbGl0KCAnXFxuJyApLm1hcCggbGluZSA9PiB7XG5cdFx0aWYoICEgaDEudGVzdCggbGluZSApICYmICEgaDIudGVzdCggbGluZSApICYmICEgaDMudGVzdCggbGluZSApICYmICEgdW5vcmRlcmVkTGlzdC50ZXN0KCBsaW5lICkgJiYgISB1bm9yZGVyZWRTdWJMaXN0LnRlc3QoIGxpbmUgKSAmJiAhIG9yZGVyZWRMaXN0LnRlc3QoIGxpbmUgKSAmJiAhIG9yZGVyZWRTdWJMaXN0LnRlc3QoIGxpbmUgKSApIHtcblx0XHRcdHJldHVybiBsaW5lLnJlcGxhY2UoIGxpbmUsICc8cD4nICsgbGluZSArICc8L3A+JyApO1xuXHRcdH1cblx0fSApLmpvaW4oICcnICk7XG59XG5cbmV4cG9ydCB7IHNldElucHV0QXJlYSwgc2V0T3V0cHV0QXJlYSwgcGFyc2UgfTsiXX0=\n"]}