{"version":3,"sources":["app.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_markdownEditor","markdown","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","default","setInputArea","document","querySelector","setOutputArea","./markdown-editor","2","inputElement","textarea","outputElement","outputArea","insertText","text","finalCursorPosition","selectionStart","selectionEnd","currentText","value","substring","focus","selectedText","withoutSelection","textWithSyntax","output","lines","innerHTML","parse","line","h1","h2","h3","bold","italics","paragraph","link","trim","test","slice","match","forEach","element","formattedElement","replace","console","log","_matches","charAt","url","defineProperty","preview","boldButton","italicButton","heading1Button","heading2Button","heading3Button","addEventListener","split","map","join","style","display","classList","toggle"],"mappings":"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","file":"../app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _markdownEditor = require('./markdown-editor');\n\nvar markdown = _interopRequireWildcard(_markdownEditor);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nmarkdown.setInputArea(document.querySelector('#input-area'));\nmarkdown.setOutputArea(document.querySelector('#output-area'));\n\n},{\"./markdown-editor\":2}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n// -------------------------------------------\n// DEFAULT INPUT AND OUTPUT AREA\n// -------------------------------------------\nvar textarea = document.querySelector('#editor-content');\nvar outputArea = document.querySelector('#output');\n\n// -------------------------------------------\n// TOOLBAR\n// -------------------------------------------\nvar preview = exports.preview = document.querySelector('#preview');\nvar boldButton = exports.boldButton = document.querySelector('#bold');\nvar italicButton = exports.italicButton = document.querySelector('#italic');\nvar heading1Button = exports.heading1Button = document.querySelector('#heading1');\nvar heading2Button = exports.heading2Button = document.querySelector('#heading2');\nvar heading3Button = exports.heading3Button = document.querySelector('#heading3');\n\npreview.addEventListener('click', function () {\n\tvar lines = textarea.value.split('\\n').map(function (line) {\n\t\treturn parse(line);\n\t});\n\toutput(lines.join(''));\n\n\toutputArea.style.display === 'block' ? outputArea.style.display = 'none' : outputArea.style.display = 'block';\n\n\tpreview.classList.toggle('active');\n});\n\nboldButton.addEventListener('click', function () {\n\tinsertText(textarea, '****', 2);\n});\n\nitalicButton.addEventListener('click', function () {\n\tinsertText(textarea, '**', 1);\n});\n\nheading1Button.addEventListener('click', function () {\n\tinsertText(textarea, '#', 1);\n});\n\nheading2Button.addEventListener('click', function () {\n\tinsertText(textarea, '##', 2);\n});\n\nheading3Button.addEventListener('click', function () {\n\tinsertText(textarea, '###', 3);\n});\n\n// -------------------------------------------\n\nfunction setInputArea(inputElement) {\n\ttextarea = inputElement;\n}\n\nfunction setOutputArea(outputElement) {\n\toutputArea = outputElement;\n}\n\nfunction insertText(textarea, text, finalCursorPosition) {\n\tvar selectionStart = textarea.selectionStart;\n\tvar selectionEnd = textarea.selectionEnd;\n\tvar currentText = textarea.value;\n\n\tif (selectionStart === selectionEnd) {\n\t\ttextarea.value = currentText.substring(0, selectionStart) + text + currentText.substring(selectionStart);\n\n\t\ttextarea.focus();\n\t\ttextarea.selectionEnd = selectionStart + finalCursorPosition;\n\t} else {\n\t\tvar selectedText = currentText.substring(selectionStart, selectionEnd);\n\t\tvar withoutSelection = currentText.substring(0, selectionStart) + currentText.substring(selectionEnd);\n\t\tvar textWithSyntax = withoutSelection.substring(0, selectionStart) + text + withoutSelection.substring(selectionStart);\n\n\t\ttextarea.value = textWithSyntax.substring(0, selectionStart + finalCursorPosition) + selectedText + textWithSyntax.substring(selectionStart + finalCursorPosition);\n\n\t\ttextarea.focus();\n\t\ttextarea.selectionEnd = selectionStart + finalCursorPosition + selectedText.length;\n\t}\n}\n\nfunction output(lines) {\n\toutputArea.innerHTML = lines;\n}\n\nfunction parse(line) {\n\t// Regular Expressions\n\tvar h1 = /^#{1}[^#]/;\n\tvar h2 = /^#{2}[^#]/;\n\tvar h3 = /^#{3}[^#]/;\n\tvar bold = /\\*\\*[^*]+\\*\\*/g;\n\tvar italics = /[^\\*]?\\*\\w[\\w|\\s]*\\w\\*/g;\n\tvar paragraph = /^[^#]/;\n\tvar link = /\\[(.)*\\]\\((.)*\\)/g;\n\tvar unorderedList = /^[\\*|\\-|\\+]\\s/;\n\n\tline.trim();\n\n\t// Example: # Heading 1\n\tif (h1.test(line)) {\n\t\tline = '<h1>' + line.slice(1) + '</h1>';\n\t}\n\n\t// Example: ## Heading 2\n\tif (h2.test(line)) {\n\t\tline = '<h2>' + line.slice(2) + '</h2>';\n\t}\n\n\t// Example: ### Heading 3\n\tif (h3.test(line)) {\n\t\tline = '<h3>' + line.slice(3) + '</h3>';\n\t}\n\n\t// Paragraphs\n\tif (paragraph.test(line)) {\n\t\tline = '<p>' + line + '</p>';\n\t}\n\n\t// Example: **Strong**\n\tif (bold.test(line)) {\n\t\tvar matches = line.match(bold);\n\n\t\tmatches.forEach(function (element) {\n\t\t\tvar formattedElement = '<strong>' + element.slice(2, -2) + '</strong>';\n\n\t\t\tline = line.replace(element, formattedElement);\n\t\t});\n\t}\n\n\t// Example: *Italics*\n\t// Since lookbehind is not allowed in JavaScript for regular expressions\n\t// the regexp matches a character behind if is not an asterisk, so a slice\n\t// starting from two will do the trick\n\tif (italics.test(line)) {\n\n\t\tconsole.log(line);\n\n\t\tvar _matches = line.match(italics);\n\n\t\tconsole.log(_matches);\n\n\t\t_matches.forEach(function (element) {\n\t\t\tvar formattedElement = '';\n\n\t\t\tif (element.charAt(0) === '*') {\n\t\t\t\tformattedElement = '<em>' + element.slice(1, -1) + '</em>';\n\t\t\t} else {\n\t\t\t\tformattedElement = element.slice(0, 1) + '<em>' + element.slice(2, -1) + '</em>';\n\t\t\t}\n\n\t\t\tline = line.replace(element, formattedElement);\n\t\t});\n\t}\n\n\t// Example: [I'm an inline-style link](https://www.google.com)\n\tif (link.test(line)) {\n\t\tvar links = line.match(link);\n\n\t\tlinks.forEach(function (element) {\n\t\t\tvar text = line.match(/^\\[[\\w|\\s]+\\]/)[0].slice(1, -1);\n\t\t\tvar url = line.match(/\\((.)+\\)/)[0].slice(1, -1);\n\n\t\t\tline.replace(element, '<a href=\"' + url + '\">' + text + '</a>');\n\t\t});\n\t}\n\n\treturn line + '\\n';\n}\n\nexports.setInputArea = setInputArea;\nexports.setOutputArea = setOutputArea;\nexports.parse = parse;\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGFwcC5qcyIsInNyY1xcbWFya2Rvd24tZWRpdG9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7SUFBWSxROzs7O0FBRVosU0FBUyxZQUFULENBQXVCLFNBQVMsYUFBVCxDQUF3QixhQUF4QixDQUF2QjtBQUNBLFNBQVMsYUFBVCxDQUF3QixTQUFTLGFBQVQsQ0FBd0IsY0FBeEIsQ0FBeEI7Ozs7Ozs7O0FDSEE7QUFDQTtBQUNBO0FBQ0EsSUFBSSxXQUFXLFNBQVMsYUFBVCxDQUF3QixpQkFBeEIsQ0FBZjtBQUNBLElBQUksYUFBYSxTQUFTLGFBQVQsQ0FBd0IsU0FBeEIsQ0FBakI7O0FBRUE7QUFDQTtBQUNBO0FBQ08sSUFBSSw0QkFBVSxTQUFTLGFBQVQsQ0FBd0IsVUFBeEIsQ0FBZDtBQUNBLElBQU0sa0NBQWEsU0FBUyxhQUFULENBQXdCLE9BQXhCLENBQW5CO0FBQ0EsSUFBTSxzQ0FBZSxTQUFTLGFBQVQsQ0FBd0IsU0FBeEIsQ0FBckI7QUFDQSxJQUFNLDBDQUFpQixTQUFTLGFBQVQsQ0FBd0IsV0FBeEIsQ0FBdkI7QUFDQSxJQUFNLDBDQUFpQixTQUFTLGFBQVQsQ0FBd0IsV0FBeEIsQ0FBdkI7QUFDQSxJQUFNLDBDQUFpQixTQUFTLGFBQVQsQ0FBd0IsV0FBeEIsQ0FBdkI7O0FBRVAsUUFBUSxnQkFBUixDQUEwQixPQUExQixFQUFtQyxZQUFXO0FBQzdDLEtBQU0sUUFBUSxTQUFTLEtBQVQsQ0FBZSxLQUFmLENBQXNCLElBQXRCLEVBQ1osR0FEWSxDQUNQLFVBQVUsSUFBVixFQUFpQjtBQUN0QixTQUFPLE1BQU8sSUFBUCxDQUFQO0FBQ0EsRUFIWSxDQUFkO0FBSUEsUUFBUSxNQUFNLElBQU4sQ0FBWSxFQUFaLENBQVI7O0FBRUEsWUFBVyxLQUFYLENBQWlCLE9BQWpCLEtBQTZCLE9BQTdCLEdBQ0EsV0FBVyxLQUFYLENBQWlCLE9BQWpC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QVIsQ0FBZSxDQUFmLEVBQWtCLENBQUMsQ0FBbkIsQ0FBVCxHQUFrQyxPQUFyRDtBQUNBLElBRkQsTUFFTztBQUNOLHVCQUFtQixRQUFRLEtBQVIsQ0FBZSxDQUFmLEVBQWlCLENBQWpCLElBQXVCLE1BQXZCLEdBQWdDLFFBQVEsS0FBUixDQUFlLENBQWYsRUFBa0IsQ0FBQyxDQUFuQixDQUFoQyxHQUF5RCxPQUE1RTtBQUNBOztBQUVELFVBQU8sS0FBSyxPQUFMLENBQWMsT0FBZCxFQUF1QixnQkFBdkIsQ0FBUDtBQUNBLEdBVkQ7QUFXQTs7QUFFRDtBQUNBLEtBQUksS0FBSyxJQUFMLENBQVcsSUFBWCxDQUFKLEVBQXdCO0FBQ3ZCLE1BQU0sUUFBUSxLQUFLLEtBQUwsQ0FBWSxJQUFaLENBQWQ7O0FBRUEsUUFBTSxPQUFOLENBQWUsVUFBVSxPQUFWLEVBQW9CO0FBQ2xDLE9BQU0sT0FBTyxLQUFLLEtBQUwsQ0FBWSxlQUFaLEVBQStCLENBQS9CLEVBQW1DLEtBQW5DLENBQTBDLENBQTFDLEVBQTZDLENBQUMsQ0FBOUMsQ0FBYjtBQUNBLE9BQU0sTUFBTSxLQUFLLEtBQUwsQ0FBWSxVQUFaLEVBQTBCLENBQTFCLEVBQThCLEtBQTlCLENBQXFDLENBQXJDLEVBQXdDLENBQUMsQ0FBekMsQ0FBWjs7QUFFQSxRQUFLLE9BQUwsQ0FBYyxPQUFkLEVBQXVCLGNBQWMsR0FBZCxHQUFvQixJQUFwQixHQUEyQixJQUEzQixHQUFrQyxNQUF6RDtBQUNBLEdBTEQ7QUFNQTs7QUFFRCxRQUFPLE9BQU8sSUFBZDtBQUNBOztRQUVRLFksR0FBQSxZO1FBQWMsYSxHQUFBLGE7UUFBZSxLLEdBQUEsSyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgKiBhcyBtYXJrZG93biBmcm9tICcuL21hcmtkb3duLWVkaXRvcic7XG5cbm1hcmtkb3duLnNldElucHV0QXJlYSggZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJyNpbnB1dC1hcmVhJyApICk7XG5tYXJrZG93bi5zZXRPdXRwdXRBcmVhKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnI291dHB1dC1hcmVhJyApICk7XG5cblxuIiwiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gREVGQVVMVCBJTlBVVCBBTkQgT1VUUFVUIEFSRUFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmxldCB0ZXh0YXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcjZWRpdG9yLWNvbnRlbnQnICk7XG5sZXQgb3V0cHV0QXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcjb3V0cHV0JyApO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUT09MQkFSXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgbGV0IHByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnI3ByZXZpZXcnICk7XG5leHBvcnQgY29uc3QgYm9sZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcjYm9sZCcgKTtcbmV4cG9ydCBjb25zdCBpdGFsaWNCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnI2l0YWxpYycgKTtcbmV4cG9ydCBjb25zdCBoZWFkaW5nMUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcjaGVhZGluZzEnICk7XG5leHBvcnQgY29uc3QgaGVhZGluZzJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnI2hlYWRpbmcyJyApO1xuZXhwb3J0IGNvbnN0IGhlYWRpbmczQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJyNoZWFkaW5nMycgKTtcblxucHJldmlldy5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblx0Y29uc3QgbGluZXMgPSB0ZXh0YXJlYS52YWx1ZS5zcGxpdCggJ1xcbicgKVxuXHRcdC5tYXAoIGZ1bmN0aW9uKCBsaW5lICkge1xuXHRcdFx0cmV0dXJuIHBhcnNlKCBsaW5lICk7XG5cdFx0fSApO1xuXHRvdXRwdXQoIGxpbmVzLmpvaW4oICcnICkgKTtcblxuXHRvdXRwdXRBcmVhLnN0eWxlLmRpc3BsYXkgPT09ICdibG9jaycgP1xuXHRvdXRwdXRBcmVhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScgOlxuXHRvdXRwdXRBcmVhLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG5cdHByZXZpZXcuY2xhc3NMaXN0LnRvZ2dsZSggJ2FjdGl2ZScgKTtcbn0gKTtcblxuYm9sZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCBmdW5jdGlvbiggKSB7XG5cdGluc2VydFRleHQoIHRleHRhcmVhLCAnKioqKicsIDIgKTtcbn0gKTtcblxuaXRhbGljQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsIGZ1bmN0aW9uKCApIHtcblx0aW5zZXJ0VGV4dCggdGV4dGFyZWEsICcqKicsIDEgKTtcbn0gKTtcblxuaGVhZGluZzFCdXR0b24uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdGluc2VydFRleHQoIHRleHRhcmVhLCAnIycsIDEgKTtcbn0gKTtcblxuaGVhZGluZzJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdGluc2VydFRleHQoIHRleHRhcmVhLCAnIyMnLCAyICk7XG59ICk7XG5cbmhlYWRpbmczQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRpbnNlcnRUZXh0KCB0ZXh0YXJlYSwgJyMjIycsIDMgKTtcbn0gKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBzZXRJbnB1dEFyZWEoIGlucHV0RWxlbWVudCApIHtcblx0dGV4dGFyZWEgPSBpbnB1dEVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIHNldE91dHB1dEFyZWEoIG91dHB1dEVsZW1lbnQgKSB7XG5cdG91dHB1dEFyZWEgPSBvdXRwdXRFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBpbnNlcnRUZXh0KCB0ZXh0YXJlYSwgdGV4dCwgZmluYWxDdXJzb3JQb3NpdGlvbiApIHtcblx0Y29uc3Qgc2VsZWN0aW9uU3RhcnQgPSB0ZXh0YXJlYS5zZWxlY3Rpb25TdGFydDtcblx0Y29uc3Qgc2VsZWN0aW9uRW5kID0gdGV4dGFyZWEuc2VsZWN0aW9uRW5kO1xuXHRjb25zdCBjdXJyZW50VGV4dCA9IHRleHRhcmVhLnZhbHVlO1xuXG5cdGlmKCBzZWxlY3Rpb25TdGFydCA9PT0gc2VsZWN0aW9uRW5kICkge1xuXHRcdHRleHRhcmVhLnZhbHVlID0gY3VycmVudFRleHQuc3Vic3RyaW5nKCAwLCBzZWxlY3Rpb25TdGFydCApICsgdGV4dCArIGN1cnJlbnRUZXh0LnN1YnN0cmluZyggc2VsZWN0aW9uU3RhcnQgKTtcblxuXHRcdHRleHRhcmVhLmZvY3VzKCk7XG5cdFx0dGV4dGFyZWEuc2VsZWN0aW9uRW5kID0gc2VsZWN0aW9uU3RhcnQgKyBmaW5hbEN1cnNvclBvc2l0aW9uO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnN0IHNlbGVjdGVkVGV4dCA9IGN1cnJlbnRUZXh0LnN1YnN0cmluZyggc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZCApO1xuXHRcdGNvbnN0IHdpdGhvdXRTZWxlY3Rpb24gPSBjdXJyZW50VGV4dC5zdWJzdHJpbmcoIDAsIHNlbGVjdGlvblN0YXJ0ICkgKyBjdXJyZW50VGV4dC5zdWJzdHJpbmcoIHNlbGVjdGlvbkVuZCApO1xuXHRcdGNvbnN0IHRleHRXaXRoU3ludGF4ID0gd2l0aG91dFNlbGVjdGlvbi5zdWJzdHJpbmcoIDAsIHNlbGVjdGlvblN0YXJ0ICkgKyB0ZXh0ICsgd2l0aG91dFNlbGVjdGlvbi5zdWJzdHJpbmcoIHNlbGVjdGlvblN0YXJ0ICk7XG5cblx0XHR0ZXh0YXJlYS52YWx1ZSA9IHRleHRXaXRoU3ludGF4LnN1YnN0cmluZyggMCxzZWxlY3Rpb25TdGFydCArIGZpbmFsQ3Vyc29yUG9zaXRpb24gKSArIHNlbGVjdGVkVGV4dCArIHRleHRXaXRoU3ludGF4LnN1YnN0cmluZyggc2VsZWN0aW9uU3RhcnQgKyBmaW5hbEN1cnNvclBvc2l0aW9uICk7XG5cblx0XHR0ZXh0YXJlYS5mb2N1cygpO1xuXHRcdHRleHRhcmVhLnNlbGVjdGlvbkVuZCA9IHNlbGVjdGlvblN0YXJ0ICsgZmluYWxDdXJzb3JQb3NpdGlvbiArIHNlbGVjdGVkVGV4dC5sZW5ndGg7XG5cdH1cbn1cblxuZnVuY3Rpb24gb3V0cHV0KCBsaW5lcyApIHtcblx0b3V0cHV0QXJlYS5pbm5lckhUTUwgPSBsaW5lcztcbn1cblxuZnVuY3Rpb24gcGFyc2UoIGxpbmUgKSB7XG5cdC8vIFJlZ3VsYXIgRXhwcmVzc2lvbnNcblx0Y29uc3QgaDEgPSAvXiN7MX1bXiNdLztcblx0Y29uc3QgaDIgPSAvXiN7Mn1bXiNdLztcblx0Y29uc3QgaDMgPSAvXiN7M31bXiNdLztcblx0Y29uc3QgYm9sZCA9IC9cXCpcXCpbXipdK1xcKlxcKi9nO1xuXHRjb25zdCBpdGFsaWNzID0gL1teXFwqXT9cXCpcXHdbXFx3fFxcc10qXFx3XFwqL2c7XG5cdGNvbnN0IHBhcmFncmFwaCA9IC9eW14jXS87XG5cdGNvbnN0IGxpbmsgPSAvXFxbKC4pKlxcXVxcKCguKSpcXCkvZztcblx0Y29uc3QgdW5vcmRlcmVkTGlzdCA9IC9eW1xcKnxcXC18XFwrXVxccy87XG5cblx0bGluZS50cmltKCk7XG5cblx0Ly8gRXhhbXBsZTogIyBIZWFkaW5nIDFcblx0aWYoIGgxLnRlc3QoIGxpbmUgKSApIHtcblx0XHRsaW5lID0gJzxoMT4nICsgbGluZS5zbGljZSggMSApICsgJzwvaDE+Jztcblx0fVxuXG5cdC8vIEV4YW1wbGU6ICMjIEhlYWRpbmcgMlxuXHRpZiggaDIudGVzdCggbGluZSApICkge1xuXHRcdGxpbmUgPSAnPGgyPicgKyBsaW5lLnNsaWNlKCAyICkgKyAnPC9oMj4nO1xuXHR9XG5cblx0Ly8gRXhhbXBsZTogIyMjIEhlYWRpbmcgM1xuXHRpZiggaDMudGVzdCggbGluZSApICkge1xuXHRcdGxpbmUgPSAnPGgzPicgKyBsaW5lLnNsaWNlKCAzICkgKyAnPC9oMz4nO1xuXHR9XG5cblx0Ly8gUGFyYWdyYXBoc1xuXHRpZiggcGFyYWdyYXBoLnRlc3QoIGxpbmUgKSApIHtcblx0XHRsaW5lID0gJzxwPicgKyBsaW5lICsgJzwvcD4nO1xuXHR9XG5cblx0Ly8gRXhhbXBsZTogKipTdHJvbmcqKlxuXHRpZiggYm9sZC50ZXN0KCBsaW5lICkgKSB7XG5cdFx0Y29uc3QgbWF0Y2hlcyA9IGxpbmUubWF0Y2goIGJvbGQgKSA7XG5cblx0XHRtYXRjaGVzLmZvckVhY2goIGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdFx0Y29uc3QgZm9ybWF0dGVkRWxlbWVudCA9ICc8c3Ryb25nPicgKyBlbGVtZW50LnNsaWNlKCAyLCAtMiApICsgJzwvc3Ryb25nPic7XG5cblx0XHRcdGxpbmUgPSBsaW5lLnJlcGxhY2UoIGVsZW1lbnQsIGZvcm1hdHRlZEVsZW1lbnQgKTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBFeGFtcGxlOiAqSXRhbGljcypcblx0Ly8gU2luY2UgbG9va2JlaGluZCBpcyBub3QgYWxsb3dlZCBpbiBKYXZhU2NyaXB0IGZvciByZWd1bGFyIGV4cHJlc3Npb25zXG5cdC8vIHRoZSByZWdleHAgbWF0Y2hlcyBhIGNoYXJhY3RlciBiZWhpbmQgaWYgaXMgbm90IGFuIGFzdGVyaXNrLCBzbyBhIHNsaWNlXG5cdC8vIHN0YXJ0aW5nIGZyb20gdHdvIHdpbGwgZG8gdGhlIHRyaWNrXG5cdGlmKCBpdGFsaWNzLnRlc3QoIGxpbmUgKSApIHtcblxuXHRcdGNvbnNvbGUubG9nKCBsaW5lICk7XG5cblx0XHRjb25zdCBtYXRjaGVzID0gbGluZS5tYXRjaCggaXRhbGljcyApO1xuXG5cblx0XHRjb25zb2xlLmxvZyggbWF0Y2hlcyApO1xuXG5cdFx0bWF0Y2hlcy5mb3JFYWNoKCBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHRcdGxldCBmb3JtYXR0ZWRFbGVtZW50ID0gJyc7XG5cblx0XHRcdGlmKCBlbGVtZW50LmNoYXJBdCggMCApID09PSAnKicgKSB7XG5cdFx0XHRcdGZvcm1hdHRlZEVsZW1lbnQgPSAnPGVtPicgKyBlbGVtZW50LnNsaWNlKCAxLCAtMSApICsgJzwvZW0+Jztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvcm1hdHRlZEVsZW1lbnQgPSBlbGVtZW50LnNsaWNlKCAwLDEgKSArICc8ZW0+JyArIGVsZW1lbnQuc2xpY2UoIDIsIC0xICkgKyAnPC9lbT4nO1xuXHRcdFx0fVxuXG5cdFx0XHRsaW5lID0gbGluZS5yZXBsYWNlKCBlbGVtZW50LCBmb3JtYXR0ZWRFbGVtZW50ICk7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gRXhhbXBsZTogW0knbSBhbiBpbmxpbmUtc3R5bGUgbGlua10oaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbSlcblx0aWYoIGxpbmsudGVzdCggbGluZSApICkge1xuXHRcdGNvbnN0IGxpbmtzID0gbGluZS5tYXRjaCggbGluayApO1xuXG5cdFx0bGlua3MuZm9yRWFjaCggZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0XHRjb25zdCB0ZXh0ID0gbGluZS5tYXRjaCggL15cXFtbXFx3fFxcc10rXFxdLyApWyAwIF0uc2xpY2UoIDEsIC0xICk7XG5cdFx0XHRjb25zdCB1cmwgPSBsaW5lLm1hdGNoKCAvXFwoKC4pK1xcKS8gKVsgMCBdLnNsaWNlKCAxLCAtMSApO1xuXG5cdFx0XHRsaW5lLnJlcGxhY2UoIGVsZW1lbnQsICc8YSBocmVmPVwiJyArIHVybCArICdcIj4nICsgdGV4dCArICc8L2E+JyApO1xuXHRcdH0gKTtcblx0fVxuXG5cdHJldHVybiBsaW5lICsgJ1xcbic7XG59XG5cbmV4cG9ydCB7IHNldElucHV0QXJlYSwgc2V0T3V0cHV0QXJlYSwgcGFyc2UgfTsiXX0=\n"]}